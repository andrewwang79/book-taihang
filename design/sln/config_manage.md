# 配置管理
## 方案
### 类型
| 类型 | 存储位置 | 说明 | 示例 |
| :-: | - | - | - |
| 配置源 | 启动参数 | 启动时动态设置 | 配置源的信息 |
| 第三方服务 | 配置源 | 启动时动态加载 | 各种系统服务的信息：如数据库，OSS等 |
| 业务 | 数据库：config表，业务表 | 必须：有默认值，可运行时设置<br>可选：可运行时设置 | 产品级：报警启停开关，平台logo<br>商户级：报警启停开关，商户logo |

### 第三方服务的配置源
| 类型 | 示例 | 适用范围 | 说明 |
| :-: | - | - | - |
| 配置服务 | Nacos | 部分服务，需有对接的能力 |  |
| 配置文件 | yml | 所有 |  |
| 配置页面 | 初始化页面 | 所有 | 写到配置文件或者配置服务 |

### 配置文件生成
1. 每个环境的文件：维护成本太高，不使用
1. 模板文件+环境配置文件：有两种转换方式
  1. 通过转换脚本转换成特定环境的文件，转换是在安装时发生
  1. 原理同第一种方式，转换是在容器启动时发生

### 系统初始化
| 项 | 阶段 |
| :-: | - |
| 配置项 | 安装，初始化 |
| 数据 | 初始化 |
