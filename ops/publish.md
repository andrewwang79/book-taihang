# 产品发布

# 发布流程
1. 测试/发布环境测试(所有终端)
1. [部署](../sln/deploy.html)升级正式环境的后端(API、管理系统等)
1. 正式环境测试(app)
1. [资源包发布](#发布资源包)，回归测试。
1. [app包发布](#发布app包)，回归测试

# [发布资源包](#发布资源包)
## 打包(前端工作)
1. 设置环境成正式
1. 设置版本号
1. 资源包要有根目录

## 发布渠道
### H5网站(微信，浏览器)
1. 上传资源包到H5网站

### app资源包
1. 上传资源包到公共存储空间
1. [修改资源包的版本号和存储路径](#资源包管理)

# [发布app包](#发布app包)
## 打包(app工作)
1. 环境设置成PROD
1. 设置app原生版本。版本号是VersionCode，如15
1. 更新资源包

## 发布准备材料
1. 版本号
1. 截图
1. 升级说明
1. app包：Android，iOS

## 发布渠道
### Android自身渠道(app包同市场)
1. 上传app包到公共存储空间
1. [修改app包的版本号和存储路径等](#app包管理)

### Android市场
### iOS市场

# 参考

## [资源包管理](#资源包管理)
配置项
* PageVersion：最新版本号（必须大于之前的最新版本号）
* PageUrl：存储路径
* PageForceVersion：强制更新的最小版本号
## [app包管理](#app包管理)
配置项
* appVersion 最新版本号（必须大于之前的最新版本号）
* appUrl：存储路径
* appForce：是否强制升级到最新版
* appDesc：升级说明
## 版本号结构
结构：后端API版本.app原生版本.前端资源包版本。如1.6.15.2016080201
* 后端API版本：2个数字。如1.6
* app原生版本：1个数字，非app平台都是0。如15
* 前端资源包版本：1个数字，打包日期加当日递增版本号。如2016年8月2日的第一个版本号是2016080201
## 公共存储空间
推荐使用第三方，如七牛
## 发布周期
功能版本：2周一个版本。版本测试完成是周五，下周上半周发布。
hotfix版本：一周2次，周二和周四
