# SAAS
* [多租户技术_百度百科](https://baike.baidu.com/item/%E5%A4%9A%E7%A7%9F%E6%88%B7%E6%8A%80%E6%9C%AF)
* [什么是多租户（Multi-tenant）](https://blog.csdn.net/starshine/article/details/8522349)

## 概要
1. 每个租户隔离
1. 运营系统可管理所有租户

## 方案
### 账户用户
#### 规则
1. 账户只有手机(身份唯一)和密码，只和个人相关(和租户无关)。相当于passport。
1. 用户归属于特定租户，有工号等租户相关信息，也有账户编号
1. 同一账户可以在多个租户分别拥有用户

#### 方案1-标准
1. 同规则，有账户表和用户表
1. 租户无管理用户密码的能力
1. 登录时返回账户关联的用户和租户，可能是列表
1. API请求只需要TOKEN

#### 方案2-无账户
1. 账户合并到用户，只有用户表
1. 支持用户在每个租户的密码不同。也允许设置成相同。
1. 登录时返回密码正确的用户和租户，可能是列表
1. API请求只需要TOKEN

#### 方案选择
1. 账户对应是大市场，就是常用的，则使用1
1. 租户对安全性要求高，则使用2

### 切换租户
每个token关联的是用户，租户切换时需重新获取token，对应不同的用户

## 设计
1. 建立租户表
1. 业务表增加字段租户编号
